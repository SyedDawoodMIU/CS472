<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/jpg" href="../Images/SyedDawood.jpg" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="prism.css" />
    <title>Day 12 - Express Intro</title>
  </head>

  <body>
    <div class="container my-5">
      <h1 class="text-center mb-5">Express Intro</h1>
      <div class="mb-5">
        <h2>Q1</h2>
        <pre class="language-javascript"><code class="language-javascript">
          const express = require('express');
          const fs = require('fs');
          const path = require('path');
          const app = express();
          const port = 3000;

          app.use(express.json());

          app.get('/image', (req, res) => {
            const imagePath = path.join(__dirname, 'pie.jpg');
          if (fs.existsSync(imagePath)) {
              const image = fs.readFileSync(imagePath);
              const extension = path.extname(imagePath).substring(1);
              res.setHeader('Content-Type', `image/${extension}`);
              res.send(image);
            } else {
              res.status(404).send('Image not found');
            }
          });

          app.get('/', (req, res) => {
              res.send('Welcome to Assignment 12');
              res.statusCode(200);
            });

          app.get('/courses', (req, res) => {
            res.send('List of courses');
            res.statusCode(200);
          });

          app.post('/courses', (req, res) => {
            res.send('Creating a new course');
            res.statusCode(201);
          });

          app.get('/courses/:id', (req, res) => {
            res.send(`Course with ID is: ${req.params.id}`);
          });

          app.use((err, req, res, next) => {
            console.error(err.stack);
            res.status(500).send('Internal server error');
          });

          app.listen(port, () => {
            console.log(`Server is listening at http://localhost:${port}`);
          });


          
        </code></pre>
        <h2>Guidelines</h2>
        <pre class="language-bash"><code class="language-bash">
          
          mkdir assignment12
          cd assignment12
          //make a new app.js file, and paste the above code 
          npm init -y
          npm i express
          
          // and finally run node app.js or 
          // install nodemon globally with npm i -g nodemon
          // and run nodemon app.js
          </code></pre>
      </div>
      <footer>
        <div class="validators">
          <div>
            <a
              href="https://validator.w3.org/nu/?doc=https://syeddawoodmiu.github.io/Day12/index.html"
              target="_blank"
            >
              <img
                class="validatorBtn"
                src="http://mumstudents.org/cs472/2014-09/images/w3c-html.png"
                alt="Validate HTML!"
              />
            </a>
            <a
              href="http://jigsaw.w3.org/css-validator/validator?uri=https://syeddawoodmiu.github.io/Day12/index.html"
              target="_blank"
            >
              <img
                class="validatorBtn"
                src="http://jigsaw.w3.org/css-validator/images/vcss-blue"
                alt="Validate CSS!"
              />
            </a>
          </div>
        </div>
      </footer>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script type="module" src="main.js"></script>
    <script src="prism.js"></script>
  </body>
</html>
